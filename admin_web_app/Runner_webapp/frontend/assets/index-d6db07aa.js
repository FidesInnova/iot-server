import{r as u,j as e,aT as j}from"./index-f1a5ff0b.js";import{F as f,a as g}from"./FormItem-abebf158.js";import{I as F}from"./Input-f96f5d40.js";import{B as v}from"./Button-afcfcbb1.js";import{A as y}from"./Alert-3f64b1b7.js";import{u as b,A as w}from"./useTimeOutMessage-f02db729.js";import{c as S,d as N,F as P,a as E,b as k}from"./index.esm-c80e5c03.js";import"./context-07f85daf.js";import"./index-fd7e9c30.js";import"./motion-bbaf39fb.js";import"./Views-545588fb.js";import"./isNil-439bb3ad.js";import"./get-9c300d8d.js";import"./_MapCache-be4b2d97.js";import"./StatusIcon-7c22de5b.js";import"./index.esm-699c5401.js";import"./CloseButton-4410af22.js";import"./useThemeClass-a2b8f01d.js";const I=S().shape({email:N().required("Please enter your email")}),A=n=>{const{disableSubmit:l=!1,className:c,signInUrl:d="/sign-in"}=n,[o,p]=u.useState(!1),[t,h]=b(),x=async(a,s)=>{var i,m;s(!0);try{(await j(a)).data&&(s(!1),p(!0))}catch(r){h(((m=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:m.message)||r.toString()),s(!1)}};return e.jsxs("div",{className:c,children:[e.jsx("div",{className:"mb-6",children:o?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Check your email"}),e.jsx("p",{children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Forgot Password"}),e.jsx("p",{children:"Please enter your email address to receive a verification code"})]})}),t&&e.jsx(y,{showIcon:!0,className:"mb-4",type:"danger",children:t}),e.jsx(P,{initialValues:{email:"admin@mail.com"},validationSchema:I,onSubmit:(a,{setSubmitting:s})=>{l?s(!1):x(a,s)},children:({touched:a,errors:s,isSubmitting:i})=>e.jsx(E,{children:e.jsxs(f,{children:[e.jsx("div",{className:o?"hidden":"",children:e.jsx(g,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(k,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:F})})}),e.jsx(v,{block:!0,loading:i,variant:"solid",type:"submit",children:o?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(w,{to:d,children:"Sign in"})]})]})})})]})},M=()=>e.jsx(A,{disableSubmit:!1}),X=M;export{X as default};
