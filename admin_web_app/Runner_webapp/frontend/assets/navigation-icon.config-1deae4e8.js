import{_ as $}from"./Select-894eed33.js";import{r as d,_ as Y,l as B,m as G,n as J,o as Q,p as X,q as Z,j as t,c as k,H as ee,t as te,u as g,h as ne,N as ae,f as se,a as re,v as ie,g as oe,w as ce,x as le}from"./index-f1a5ff0b.js";import{D as ue}from"./index-443dcd01.js";import{w as q}from"./SidePanel-d0c0d508.js";import{b as de,c as fe,d as P,e as pe,f as me,g as he,h as ge,i as ve,j as xe,k as ye,l as je,m as Ne,n as be,o as we,p as Ce,q as Se,r as Oe,s as Ie}from"./index.esm-699c5401.js";import{A as R}from"./index-87490377.js";import{D as E}from"./index-54792e3d.js";import{a as Ee}from"./UserApi-23221c36.js";import{u as ke}from"./Views-545588fb.js";function Ae(){if(console&&console.warn){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];typeof a[0]=="string"&&(a[0]="react-i18next:: ".concat(a[0])),(n=console).warn.apply(n,a)}}var U={};function D(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];typeof e[0]=="string"&&U[e[0]]||(typeof e[0]=="string"&&(U[e[0]]=new Date),Ae.apply(void 0,e))}var F=function(e,a){return function(){if(e.isInitialized)a();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),a()};e.on("initialized",r)}}};function z(n,e,a){n.loadNamespaces(e,F(n,a))}function K(n,e,a,r){typeof a=="string"&&(a=[a]),a.forEach(function(i){n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,F(n,r))}function Me(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,l=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var s=function(f,p){var x=e.services.backendConnector.state["".concat(f,"|").concat(p)];return x===-1||x===2};return a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||s(r,n)&&(!i||s(l,n)))}function De(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return D("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(n,{lng:a.lng,precheck:function(l,s){if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!s(l.isLanguageChangingTo,n))return!1}}):Me(n,e,a)}var Te=d.createContext(),He=function(){function n(){B(this,n),this.usedNamespaces={}}return Y(n,[{key:"addUsedNamespaces",value:function(a){var r=this;a.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),n}();function W(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,r)}return a}function M(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?W(Object(a),!0).forEach(function(r){J(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var Le=function(e,a){var r=d.useRef();return d.useEffect(function(){r.current=a?r.current:e},[e,a]),r.current};function Ze(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.i18n,r=d.useContext(Te)||{},i=r.i18n,l=r.defaultNS,s=a||i||Q();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new He),!s){D("You will need to pass in an i18next instance by using initReactI18next");var v=function(y,m){return typeof m=="string"?m:m&&X(m)==="object"&&typeof m.defaultValue=="string"?m.defaultValue:Array.isArray(y)?y[y.length-1]:y},f=[v,{},!1];return f.t=v,f.i18n={},f.ready=!1,f}s.options.react&&s.options.react.wait!==void 0&&D("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var p=M(M(M({},G()),s.options.react),e),x=p.useSuspense,u=p.keyPrefix,c=n||l||s.options&&s.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);var j=(s.isInitialized||s.initializedStoreOnce)&&c.every(function(h){return De(h,s,p)});function o(){return s.getFixedT(e.lng||null,p.nsMode==="fallback"?c:c[0],u)}var V=d.useState(o),T=$(V,2),H=T[0],S=T[1],O=c.join();e.lng&&(O="".concat(e.lng).concat(O));var L=Le(O),N=d.useRef(!0);d.useEffect(function(){var h=p.bindI18n,y=p.bindI18nStore;N.current=!0,!j&&!x&&(e.lng?K(s,e.lng,c,function(){N.current&&S(o)}):z(s,c,function(){N.current&&S(o)})),j&&L&&L!==O&&N.current&&S(o);function m(){N.current&&S(o)}return h&&s&&s.on(h,m),y&&s&&s.store.on(y,m),function(){N.current=!1,h&&s&&h.split(" ").forEach(function(A){return s.off(A,m)}),y&&s&&y.split(" ").forEach(function(A){return s.store.off(A,m)})}},[s,O]);var _=d.useRef(!0);d.useEffect(function(){N.current&&!_.current&&S(o),_.current=!1},[s,u]);var I=[H,s,j];if(I.t=H,I.i18n=s,I.ready=j,j||!j&&!x)return I;throw new Promise(function(h){e.lng?K(s,e.lng,c,function(){return h()}):z(s,c,function(){return h()})})}const et=n=>{const{headerStart:e,headerEnd:a,headerMiddle:r,className:i,container:l}=n;return Z(),t.jsx("header",{className:k("header",i),children:t.jsxs("div",{className:k("header-wrapper",ee,l&&"container mx-auto"),children:[t.jsx("div",{className:"header-action header-action-start",children:e}),r&&t.jsx("div",{className:"header-action header-action-middle",children:r}),t.jsxs("div",{className:"flex flex-row",children:[t.jsx("div",{className:"flex mt-1 justify-end",children:" "}),t.jsx("div",{className:"header-action header-action-end",children:a})]})]})})},w={xs:"576",sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},C=(n="")=>parseInt(n.replace("px","")),_e={"2xl":C(w["2xl"]),xl:C(w.xl),lg:C(w.lg),md:C(w.md),sm:C(w.sm),xs:C(w.xs)},Pe=()=>{const n=(l="smaller")=>{const s=window.innerWidth;return Object.fromEntries(Object.entries(_e).map(([v,f])=>[v,l==="larger"?s>f:s<f]))},e=()=>({windowWidth:window.innerWidth,larger:n("larger"),smaller:n("smaller")}),[a,r]=d.useState(e()),i=()=>{const l=e();r(l)};return d.useEffect(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[a.windowWidth]),a},Re=({toggled:n,className:e})=>t.jsx("div",{className:e,children:n?t.jsx(de,{}):t.jsx(fe,{})}),tt="title",nt="collapse",b="item",Ue=[{key:"dashboard",path:"/dashboard",title:"Dashboard",translateKey:"nav.dashboard",icon:"home",type:b,authority:[],subMenu:[]},{key:"allUsers",path:"/allusers",title:"All Users",translateKey:"nav.allUsers",icon:"user",type:b,authority:[],subMenu:[]},{key:"allDevices",path:"/alldevices",title:"All Devices",translateKey:"nav.allDevices",icon:"device",type:b,authority:[],subMenu:[]},{key:"allInstalledServices",path:"/allinstalledservices",title:"All Installed Services",translateKey:"nav.allInstalledServices",icon:"myService",type:b,authority:[],subMenu:[]},{key:"Notifications",path:"/notifications",title:"Notifications",translateKey:"nav.Notifications",icon:"notification",type:b,authority:[],subMenu:[]},{key:"requests",path:"/requests",title:"Service Requests",translateKey:"nav.requests",icon:"requests",type:b,authority:[],subMenu:[]},{key:"market",path:"/market",title:"Service Market",translateKey:"nav.market",icon:"singleMenu",type:b,authority:[],subMenu:[]}],ze=d.lazy(()=>te(()=>import("./index-65d9f960.js"),["assets/index-65d9f960.js","assets/VerticalMenuContent-f65ec8bf.js","assets/index-f1a5ff0b.js","assets/index-728741c5.css","assets/index-a40ab2e0.js","assets/index-e038d582.js","assets/motion-bbaf39fb.js","assets/index.esm-699c5401.js","assets/index-87490377.js","assets/usePopper-1dbffb61.js","assets/warning-31bbcec2.js","assets/index-fd7e9c30.js","assets/Select-894eed33.js","assets/Views-545588fb.js","assets/get-9c300d8d.js","assets/_MapCache-be4b2d97.js","assets/context-07f85daf.js","assets/index-54792e3d.js","assets/isNil-439bb3ad.js","assets/chainedFunction-070f832c.js","assets/useRootClose-02fb158e.js","assets/isPlainObject-1121af84.js","assets/_getPrototype-4a7ee280.js","assets/index-443dcd01.js","assets/index-3bc265bb.js","assets/CloseButton-4410af22.js","assets/SidePanel-d0c0d508.js","assets/index-3e2b7b09.js","assets/useControllableState-404b8b27.js","assets/SegmentItemOption-eeadaa43.js","assets/useThemeClass-a2b8f01d.js","assets/DoubleSidedImage-f458c64c.js","assets/Badge-93ce6042.js","assets/UserApi-23221c36.js"])),Ke=q(Re),at=()=>{const[n,e]=d.useState(!1),a=()=>{e(!0)},r=()=>{e(!1)},i=g(o=>o.theme.themeColor),l=g(o=>o.theme.primaryColorLevel),s=g(o=>o.theme.navMode),v=g(o=>o.theme.mode),f=g(o=>o.theme.direction),p=g(o=>o.base.common.currentRouteKey),x=g(o=>o.theme.layout.sideNavCollapse),u=g(o=>o.auth.user.authority),{smaller:c}=Pe(),j=()=>s===ae?`bg-${i}-${l} side-nav-${s}`:s===se?`side-nav-${v}`:`side-nav-${s}`;return t.jsx(t.Fragment,{children:c.md&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-2xl",onClick:a,children:t.jsx(Ke,{toggled:n})}),t.jsx(ue,{title:"Navigation",isOpen:n,bodyClass:k(j(),"p-0"),width:330,placement:f===ne?"right":"left",onClose:r,onRequestClose:r,children:t.jsx(d.Suspense,{fallback:t.jsx(t.Fragment,{}),children:n&&t.jsx(ze,{navMode:s,collapsed:x,navigationTree:Ue,routeKey:p,userAuthority:u,direction:f,onMenuItemClick:r})})})]})})},We=[{label:"Account Setting",path:"/account/settings/profile",icon:t.jsx(me,{})}],qe=({className:n})=>{const[e,a]=d.useState(""),{userName:r,authority:i,email:l}=g(u=>u.auth.user),{avatarLink:s,firstName:v}=g(u=>u.locale),f=re();d.useEffect(()=>{async function u(){const c=await Ee();a(c.data.data),f(ce(c.data.data.avatar)),f(le(c.data.data.firstName))}u()},[]);const{signOut:p}=ie(),x=t.jsxs("div",{className:k(n,"flex items-center gap-2"),children:[t.jsx(R,{className:"overflow-hidden",size:32,shape:"circle",icon:s&&t.jsx("img",{src:s})||t.jsx(P,{})}),t.jsxs("div",{className:"hidden md:block",children:[t.jsx("div",{className:"text-xs capitalize",children:(i==null?void 0:i[0])||""}),t.jsx("div",{className:"font-bold",children:v||""})]})]});return t.jsx("div",{children:t.jsxs(E,{menuStyle:{minWidth:240},renderTitle:x,placement:"bottom-end",children:[t.jsx(E.Item,{variant:"header",children:t.jsxs("div",{className:"py-2 px-3 flex items-center gap-2",children:[t.jsx(R,{className:"overflow-hidden",size:32,shape:"circle",icon:s&&t.jsx("img",{src:s})||t.jsx(P,{})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:r==null?void 0:r.split("@")[0]}),t.jsx("div",{className:"text-xs",children:l})]})]})}),t.jsx(E.Item,{variant:"divider"}),We.map(u=>t.jsx(E.Item,{eventKey:u.label,className:"mb-1 px-0",children:t.jsx(oe,{className:"flex h-full w-full px-2",to:u.path,children:t.jsxs("span",{className:"flex gap-2 items-center w-full",children:[t.jsx("span",{className:"text-xl opacity-50",children:u.icon}),t.jsx("span",{children:u.label})]})})},u.label)),t.jsxs(E.Item,{eventKey:"Sign Out",className:"gap-2",onClick:p,children:[t.jsx("span",{className:"text-xl opacity-50",children:t.jsx(pe,{})}),t.jsx("span",{children:"Sign Out"})]})]})})},st=q(qe),rt=n=>{const{userAuthority:e=[],authority:a=[],children:r}=n,i=ke(e,a);return t.jsx(t.Fragment,{children:i?r:null})},it={home:t.jsx(he,{}),download:t.jsx(ge,{}),myService:t.jsx(ve,{}),notification:t.jsx(xe,{}),singleMenu:t.jsx(ye,{}),requests:t.jsx(je,{}),documentDownload:t.jsx(Ne,{}),list:t.jsx(be,{}),user:t.jsx(we,{}),device:t.jsx(Ce,{}),collapseMenu:t.jsx(Se,{}),groupSingleMenu:t.jsx(Oe,{}),groupCollapseMenu:t.jsx(Ie,{})};export{rt as A,et as H,Te as I,at as M,Re as N,st as U,b as a,it as b,Ze as c,tt as d,nt as e,Ae as f,Ue as n,Pe as u,D as w};
