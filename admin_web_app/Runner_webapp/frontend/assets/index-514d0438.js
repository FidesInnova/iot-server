import{v as j,j as e}from"./index-f1a5ff0b.js";import{I as g}from"./Input-f96f5d40.js";import{B as b}from"./Button-afcfcbb1.js";import{C as w}from"./index-56c156a2.js";import{F as v,a as t}from"./FormItem-abebf158.js";import{A as I}from"./Alert-3f64b1b7.js";import{P as F}from"./PasswordInput-ba6fa055.js";import{u as y,A as M}from"./useTimeOutMessage-f02db729.js";import{c as P,d as l,e as S,F as N,a as k,b as i}from"./index.esm-c80e5c03.js";import"./context-07f85daf.js";import"./Views-545588fb.js";import"./isNil-439bb3ad.js";import"./get-9c300d8d.js";import"./_MapCache-be4b2d97.js";import"./motion-bbaf39fb.js";import"./cloneDeep-8806e7e3.js";import"./_getPrototype-4a7ee280.js";import"./index-fd7e9c30.js";import"./StatusIcon-7c22de5b.js";import"./index.esm-699c5401.js";import"./CloseButton-4410af22.js";import"./useThemeClass-a2b8f01d.js";const A=P().shape({email:l().required("Please enter your email"),password:l().required("Please enter your password"),rememberMe:S()}),C=c=>{const{disableSubmit:d=!1,className:p,forgotPasswordUrl:$="/forgot-password",signUpUrl:u="/sign-up"}=c,[n,m]=y(),{signIn:x}=j(),f=async(r,s)=>{const{email:o,password:h}=r;s(!0);const a=await x({email:o,password:h});console.log("res:",a),(a==null?void 0:a.status)==="failed"?m("Username or password is invalid"):(a==null?void 0:a.status)==="permission"&&m(a.message),s(!1)};return e.jsxs("div",{className:p,children:[n&&e.jsx(I,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx(e.Fragment,{children:n})}),e.jsx(N,{initialValues:{email:"",password:"",rememberMe:!0},validationSchema:A,onSubmit:(r,{setSubmitting:s})=>{d?s(!1):f(r,s)},children:({touched:r,errors:s,isSubmitting:o})=>e.jsx(k,{children:e.jsxs(v,{children:[e.jsx(t,{label:"Email",invalid:s.email&&r.email,errorMessage:s.email,children:e.jsx(i,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:g})}),e.jsx(t,{label:"Password",invalid:s.password&&r.password,errorMessage:s.password,children:e.jsx(i,{autoComplete:"off",name:"password",placeholder:"Password",component:F})}),e.jsx("div",{className:"flex justify-between mb-6",children:e.jsx(i,{className:"mb-0",name:"rememberMe",component:w,children:"Remember Me"})}),e.jsx(b,{block:!0,loading:o,variant:"solid",type:"submit",children:o?"Signing in...":"Sign In"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("span",{children:["Don't have an account yet?"," "]}),e.jsx(M,{to:u,children:"Sign up"})]})]})})})]})},U=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-1",children:"Welcome back!"}),e.jsx("p",{children:"Please enter your credentials to sign in!"})]}),e.jsx(C,{disableSubmit:!1})]}),ae=U;export{ae as default};
