import{j as e}from"./index-bf8a941f.js";import{I as p}from"./Input-9402e44f.js";import{C as O}from"./index-9cb1fb6e.js";import{B as I}from"./Button-0f33c8fd.js";import{S as u}from"./Select-d53c46ac.js";import{F as M,a as r}from"./FormContainer-7c6e47ec.js";import{c as j,a as m,e as P,F as q,b as W,d as s,g as o}from"./index.esm-510ed08c.js";import{N as S}from"./react-number-format.es-a80ce096.js";import{n as v,o as b,a as g,b as N}from"./constants-ca202644.js";import{c as f}from"./countries.constant-5369f7df.js";import"./context-3c7bf7d8.js";import"./Views-4bab5f03.js";import"./get-9e555ae1.js";import"./_MapCache-72043566.js";import"./motion-23928477.js";import"./cloneDeep-93156ba4.js";import"./index.esm-4fe97196.js";import"./index-2e58d6d9.js";const C=["unemployed","student","retired"],V=j().shape({taxResident:m().required("Please select your country of tax resident"),tin:m().when("noTin",{is:!1,then:i=>i.required("Please enter your Taxpayer Identification number (TIN)"),otherwise:i=>i}),noTinReason:m().when("noTin",{is:!0,then:i=>i.required("Please indicate your reason"),otherwise:i=>i}),noTin:P(),occupation:m().required("Please choose your occupation"),annualIncome:m().required("Please tell us your annual income range"),sourceOfWealth:m().required("Please tell us the source of funds use in this account"),companyInformation:j().when("occupation",{is:i=>i&&!C.includes(i),then:i=>i.shape({companyName:m().required("Please enter your company name"),contactNumber:m().required("Please enter your company contact number"),country:m().required("Please select country"),addressLine1:m().required("Please enter your address"),addressLine2:m(),city:m().required("Please enter your city"),state:m().required("Please enter your state"),zipCode:m().required("Please enter zip code")}),otherwise:i=>i})}),z=i=>e.jsx(p,{...i,value:i.field.value}),w=({onValueChange:i,...y})=>e.jsx(S,{customInput:p,type:"text",autoComplete:"off",onValueChange:i,...y}),ae=({data:i={taxResident:"",tin:"",noTin:!1,noTinReason:"",occupation:"",annualIncome:"",sourceOfWealth:"",companyInformation:{companyName:"",contactNumber:"",country:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:""}},onNextChange:y,onBackChange:x,currentStepStatus:T})=>{const F=(d,c)=>{y==null||y(d,"financialInformation",c)},R=()=>{x==null||x()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-2",children:"Financial Information"}),e.jsx("p",{children:"Fill in your financial information to help us speed up the verication process."})]}),e.jsx(q,{enableReinitialize:!0,initialValues:i,validationSchema:V,onSubmit:(d,{setSubmitting:c})=>{c(!0),setTimeout(()=>{F(d,c)},1e3)},children:({values:d,touched:c,errors:a,isSubmitting:L})=>{var h;return e.jsx(W,{children:e.jsxs(M,{children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-4",children:"Tax Information"}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Tax resident of",invalid:a.taxResident&&c.taxResident,errorMessage:a.taxResident,children:e.jsx(s,{name:"taxResident",children:({field:t,form:l})=>e.jsx(u,{placeholder:"Tax resident of",field:t,form:l,options:f,value:f.filter(n=>n.value===d.taxResident),onChange:n=>l.setFieldValue(t.name,n==null?void 0:n.value)})})}),d.noTin?e.jsx(r,{label:"Please provide an appropriate reason if no TIN",invalid:a.noTinReason&&c.noTinReason,errorMessage:a.noTinReason,children:e.jsx(s,{name:"noTinReason",children:({field:t,form:l})=>e.jsx(u,{placeholder:"Select reason",field:t,form:l,options:v,value:v.filter(n=>n.value===d.noTinReason),onChange:n=>l.setFieldValue(t.name,n==null?void 0:n.value)})})}):e.jsx(r,{label:"Taxpayer Identification number (TIN)",invalid:a.tin&&c.tin,errorMessage:a.tin,children:e.jsx(s,{type:"text",autoComplete:"off",name:"tin",placeholder:"TIN",component:p})})]})]}),e.jsx(r,{children:e.jsx(s,{name:"noTin",component:O,children:"Check this if no TIN number is available"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-4",children:"Employment Information"}),e.jsx(r,{label:"Occupation",invalid:a.occupation&&c.occupation,errorMessage:a.occupation,children:e.jsx(s,{name:"occupation",children:({field:t,form:l})=>e.jsx(u,{placeholder:"Occupation",field:t,form:l,options:b,value:b.filter(n=>n.value===d.occupation),onChange:n=>l.setFieldValue(t.name,n==null?void 0:n.value)})})}),d.occupation&&!C.includes(d.occupation)&&e.jsxs("div",{children:[e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Full company name",invalid:o(a,"companyInformation.companyName")&&o(c,"companyInformation.companyName"),errorMessage:o(a,"companyInformation.companyName"),children:e.jsx(s,{type:"text",autoComplete:"off",name:"companyInformation.companyName",placeholder:"Full company name",component:p})}),e.jsx(r,{label:"Employer Contact Number",invalid:a.companyInformation&&a.companyInformation.contactNumber&&((h=c.companyInformation)==null?void 0:h.contactNumber),errorMessage:a.companyInformation&&a.companyInformation.contactNumber,children:e.jsx(s,{name:"companyInformation.contactNumber",children:({field:t,form:l})=>e.jsx(w,{form:l,field:t,customInput:z,placeholder:"Employer Contact Number",onValueChange:n=>{l.setFieldValue(t.name,n.value)}})})})]}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Country",invalid:o(a,"companyInformation.country")&&o(c,"companyInformation.country"),errorMessage:o(a,"companyInformation.country"),children:e.jsx(s,{name:"companyInformation.country",children:({field:t,form:l})=>e.jsx(u,{placeholder:"Country",field:t,form:l,options:f,value:f.filter(n=>n.value===o(d,"companyInformation.country")),onChange:n=>l.setFieldValue(t.name,n==null?void 0:n.value)})})}),e.jsx(r,{label:"Address Line 1",invalid:o(a,"companyInformation.addressLine1")&&o(c,"companyInformation.addressLine1"),errorMessage:o(a,"companyInformation.addressLine1"),children:e.jsx(s,{type:"text",autoComplete:"off",name:"companyInformation.addressLine1",placeholder:"Company address line 1",component:p})})]}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Address Line 2",invalid:o(a,"companyInformation.addressLine2")&&o(c,"companyInformation.addressLine2"),errorMessage:o(a,"companyInformation.addressLine2"),children:e.jsx(s,{type:"text",autoComplete:"off",name:"companyInformation.addressLine2",placeholder:"Company address line 2",component:p})}),e.jsx(r,{label:"City",invalid:o(a,"companyInformation.city")&&o(c,"companyInformation.city"),errorMessage:o(a,"companyInformation.city"),children:e.jsx(s,{type:"text",autoComplete:"off",name:"companyInformation.city",placeholder:"City",component:p})})]}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"State",invalid:o(a,"companyInformation.state")&&o(c,"companyInformation.state"),errorMessage:o(a,"companyInformation.state"),children:e.jsx(s,{type:"text",autoComplete:"off",name:"companyInformation.state",placeholder:"State",component:p})}),e.jsx(r,{label:"Zip Code",invalid:o(a,"companyInformation.zipCode")&&o(c,"companyInformation.zipCode"),errorMessage:o(a,"companyInformation.zipCode"),children:e.jsx(s,{type:"text",autoComplete:"off",name:"companyInformation.zipCode",placeholder:"Zip Code",component:p})})]})]}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Annual Income",invalid:a.annualIncome&&c.annualIncome,errorMessage:a.annualIncome,children:e.jsx(s,{name:"annualIncome",children:({field:t,form:l})=>e.jsx(u,{placeholder:"Annual Income",field:t,form:l,options:g,value:g.filter(n=>n.value===d.annualIncome),onChange:n=>l.setFieldValue(t.name,n==null?void 0:n.value)})})}),e.jsx(r,{label:"Source of Wealth",invalid:a.sourceOfWealth&&c.sourceOfWealth,errorMessage:a.sourceOfWealth,children:e.jsx(s,{name:"sourceOfWealth",children:({field:t,form:l})=>e.jsx(u,{placeholder:"Source of Wealth",field:t,form:l,options:N,value:N.filter(n=>n.value===d.sourceOfWealth),onChange:n=>l.setFieldValue(t.name,n==null?void 0:n.value)})})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",onClick:R,children:"Back"}),e.jsx(I,{loading:L,variant:"solid",type:"submit",children:T==="complete"?"Save":"Next"})]})]})})}})]})};export{ae as default};
