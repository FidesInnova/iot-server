import{V as tt,r as i,aP as et,c as st,j as f,b1 as nt}from"./index-bf8a941f.js";import{u as rt,a as it}from"./context-3c7bf7d8.js";import{i as ot}from"./Views-4bab5f03.js";import{g as R}from"./get-9e555ae1.js";function ut(o){return o==null}var at=ut;const b=tt(at),ft=i.forwardRef((o,F)=>{var I,E;const{asElement:W="input",className:g,disabled:$,invalid:m,prefix:s,size:w,suffix:n,textArea:x,type:A="text",style:S,unstyle:L=!1,field:l,form:h,...C}=o,[P,T]=i.useState(0),[V,D]=i.useState(0),{themeColor:c,controlSize:O,primaryColorLevel:d,direction:y}=et(),_=(I=rt())==null?void 0:I.size,M=(E=it())==null?void 0:E.size,N=w||M||_||O,Z=t=>typeof t>"u"||t===null?"":t;"value"in o&&(C.value=Z(o.value),delete C.defaultValue);const v=i.useMemo(()=>{let t=!1;if(!ot(h)){const{touched:r,errors:e}=h,p=R(r,l.name),Y=R(e,l.name);t=p&&Y}return typeof m=="boolean"&&(t=m),t},[h,m,l]),k="input",q=`input-${N} h-${nt[N]}`,B=`focus:ring-${c}-${d} focus-within:ring-${c}-${d} focus-within:border-${c}-${d} focus:border-${c}-${d}`,H=`input-wrapper ${s||n?g:""}`,J=st(k,!x&&q,!v&&B,!s&&!n?g:"",$&&"input-disabled",v&&"input-invalid",x&&"input-textarea"),u=i.useRef(null),a=i.useRef(null),K=()=>{var e,p;if(!u.current&&!a.current)return;const t=(e=u==null?void 0:u.current)==null?void 0:e.offsetWidth,r=(p=a==null?void 0:a.current)==null?void 0:p.offsetWidth;b(t)&&b(r)||(t&&T(t),r&&D(r))};i.useEffect(()=>{K()},[s,n]);const z=t=>.0625*t,Q=()=>{const t=`${z(P)+1}rem`,r=`${z(V)+1}rem`,e={};return y==="ltr"&&(s&&(e.paddingLeft=t),n&&(e.paddingRight=r)),y==="rtl"&&(s&&(e.paddingRight=t),n&&(e.paddingLeft=r)),e},G={className:L?"":J,disabled:$,type:A,ref:F,...l,...C},U=f.jsx("textarea",{style:S,...G}),j=f.jsx(W,{style:{...Q(),...S},...G}),X=f.jsxs("span",{className:H,children:[s?f.jsxs("div",{ref:u,className:"input-suffix-start",children:[" ",s," "]}):null,j,n?f.jsx("div",{ref:a,className:"input-suffix-end",children:n}):null]});return(()=>x?U:s||n?X:j)()});ft.displayName="Input";export{ft as I,b as i};
