import{r as F,q as C,j as s,aS as S}from"./index-bf8a941f.js";import{F as y,a as m}from"./FormContainer-7c6e47ec.js";import{B as c}from"./Button-0f33c8fd.js";import{A as N}from"./Alert-1d842e79.js";import{P as l}from"./PasswordInput-352f6c8c.js";import{u as R,A as k}from"./useTimeOutMessage-855ac3e9.js";import{c as A,a as p,f as I,F as M,b as $,d as w}from"./index.esm-510ed08c.js";import"./context-3c7bf7d8.js";import"./index-2e58d6d9.js";import"./motion-23928477.js";import"./StatusIcon-0225b6e9.js";import"./index.esm-4fe97196.js";import"./CloseButton-d50c43fd.js";import"./Input-9402e44f.js";import"./Views-4bab5f03.js";import"./get-9e555ae1.js";import"./_MapCache-72043566.js";import"./useThemeClass-81aec1c2.js";const B=A().shape({password:p().required("Please enter your password"),confirmPassword:p().oneOf([I("password")],"Your passwords do not match")}),Y=f=>{const{disableSubmit:u=!1,className:h,signInUrl:x="/sign-in"}=f,[t,j]=F.useState(!1),[n,P]=R(),b=C(),g=async(a,e)=>{var i,d;const{password:o}=a;e(!0);try{(await S({password:o})).data&&(e(!1),j(!0))}catch(r){P(((d=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:d.message)||r.toString()),e(!1)}},v=()=>{b("/sign-in")};return s.jsxs("div",{className:h,children:[s.jsx("div",{className:"mb-6",children:t?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Reset done"}),s.jsx("p",{children:"Your password has been successfully reset"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Set new password"}),s.jsx("p",{children:"Your new password must different to previos password"})]})}),n&&s.jsx(N,{showIcon:!0,className:"mb-4",type:"danger",children:n}),s.jsx(M,{initialValues:{password:"123Qwe1",confirmPassword:"123Qwe1"},validationSchema:B,onSubmit:(a,{setSubmitting:e})=>{u?e(!1):g(a,e)},children:({touched:a,errors:e,isSubmitting:o})=>s.jsx($,{children:s.jsxs(y,{children:[t?s.jsx(c,{block:!0,variant:"solid",type:"button",onClick:v,children:"Continue"}):s.jsxs(s.Fragment,{children:[s.jsx(m,{label:"Password",invalid:e.password&&a.password,errorMessage:e.password,children:s.jsx(w,{autoComplete:"off",name:"password",placeholder:"Password",component:l})}),s.jsx(m,{label:"Confirm Password",invalid:e.confirmPassword&&a.confirmPassword,errorMessage:e.confirmPassword,children:s.jsx(w,{autoComplete:"off",name:"confirmPassword",placeholder:"Confirm Password",component:l})}),s.jsx(c,{block:!0,loading:o,variant:"solid",type:"submit",children:o?"Submiting...":"Submit"})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Back to "}),s.jsx(k,{to:x,children:"Sign in"})]})]})})})]})},q=()=>s.jsx(Y,{disableSubmit:!1}),es=q;export{es as default};
